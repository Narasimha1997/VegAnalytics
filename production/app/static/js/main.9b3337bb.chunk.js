(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,a){t.exports=a(127)},127:function(t,e,a){"use strict";a.r(e);var n=a(8),r=a(7),l=a(11),c=a(10),i=a(12),o=a(0),s=a.n(o),u=a(9),m=a.n(u),p=a(196),d=a(186),h=a(206),v=a(201),f=a(197),E=a(204),y=a(198),b=a(95),g=a(182),D=a(94),j=a.n(D),O=a(51),k=a(90),x=function(){function t(e,a){Object(n.a)(this,t),this.route=e,this.callback=a}return Object(r.a)(t,[{key:"collect",value:function(t){var e=this;console.log(t),fetch(k.host+this.route,{headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",method:"post",body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(t){e.callback(t)})}}]),t}(),I=function(){function t(){Object(n.a)(this,t)}return Object(r.a)(t,[{key:"add",value:function(t,e){localStorage.setItem(t,e)}},{key:"delete",value:function(t){localStorage.removeItem(t)}},{key:"get",value:function(t){localStorage.getItem(t)}},{key:"check",value:function(t){return null!=localStorage.getItem(t)}}]),t}();var w=a(34),C=a(205),S=a(176),P=a(129),T=a(177),_=a(179),L=a(180),N=a(178),A=a(172),M=a(174),q=a(175),W=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement(A.a,{style:{textAlign:"left",width:"100%",position:"fixed",zIndex:1e5}},s.a.createElement(M.a,null,s.a.createElement(q.a,{color:"inherit","aria-label":"Menu"}),s.a.createElement(O.a,{variant:"h6",color:"inherit"},this.props.userData.name)))}}]),e}(s.a.Component),J=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(C.a,{variant:"permanent"},s.a.createElement("div",{style:{width:"250px"}},s.a.createElement(S.a,{style:{paddingTop:"70px"}},s.a.createElement(P.a,{button:!0,onClick:function(){t.props.handler(0)}},s.a.createElement(T.a,null,s.a.createElement(N.a,null,"more")),s.a.createElement(_.a,{primary:"Home",secondary:"Update purchase information"})),s.a.createElement(L.a,null),s.a.createElement(P.a,{button:!0,onClick:function(){t.props.handler(2)}},s.a.createElement(T.a,null,s.a.createElement(N.a,null,"insert_chart_outline")),s.a.createElement(_.a,{primary:"Visualization",secondary:"Visualize the sales in real-time"})),s.a.createElement(L.a,null),s.a.createElement(P.a,{button:!0,onClick:function(){t.props.handler(3)}},s.a.createElement(T.a,null,s.a.createElement(N.a,null,"public")),s.a.createElement(_.a,{primary:"Configure",secondary:"Configure your store with new products"})),s.a.createElement(L.a,null),s.a.createElement(P.a,{button:!0,onClick:function(){t.props.handler(4)}},s.a.createElement(T.a,null,s.a.createElement(N.a,null,"sentiment_satisfied")),s.a.createElement(_.a,{primary:"Transaction Details",secondary:"Get a list of all transactions"})))))}}]),e}(s.a.Component),U=a(181),F=a(183),H=a(200),R=a(185),Q=a(187),z=a(188);function V(t,e){new x("/product/getProducts",function(t){t.error||e(t)}).collect({userID:t})}function B(t,e,a){new x("/transaction/getN",function(t){t.error||a(t.result)}).collect({userID:t,N:parseInt(e)})}var Y=a(92),G=a.n(Y),K=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,products:[],cost:0,quantity:0,selected:"",productID:"",lastTx:null},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.setState({products:e.result}),B(t.state.userID,1,function(e){t.setState({lastTx:e[0]})})})}},{key:"submitTx",value:function(){for(var t=0,e=0;e<this.state.products.length;e++)if(this.state.products[e]._id===this.state.productID){t+=this.state.products[e].cost*this.state.quantity;break}var a=t+this.state.lastTx.totalCost,n=new Date,r=n.getUTCDate().toString(),l=(n.getUTCMonth()+1).toString(),c=n.getUTCFullYear().toString();!function(t,e,a,n,r,l,c,i){new x("/transaction/create",function(t){t.error||alert("Transaction created")}).collect({userID:t,productID:e,cost:parseFloat(a)+.001,quantity:parseFloat(n)+.001,totalCost:parseFloat(r)+.001,date:l,month:c,year:i})}(this.state.userID,this.state.productID,t,this.state.quantity,a,r,l,c)}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(U.a,{style:{width:"100%"}},s.a.createElement(g.a,{container:!0,spacing:3},s.a.createElement(g.a,{item:!0,xs:8},s.a.createElement("div",{style:{margin:"20px auto",textAlign:"left",padding:"10px"}},s.a.createElement(O.a,{variant:"primary"},"Update Sales information : "),s.a.createElement(L.a,null),s.a.createElement("div",null,s.a.createElement("p",null,"Product"),s.a.createElement(F.a,null,s.a.createElement(H.a,{value:this.state.productID,onChange:function(e){t.setState({productID:e.target.value})}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name+" Price : "+t.price)}))),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(F.a,null,s.a.createElement(v.a,{id:"outlined-name",label:"Quantity",value:this.state.quantity,onChange:function(e){t.setState({quantity:e.target.value})},margin:"normal",variant:"outlined"}))),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){t.submitTx()}},s.a.createElement(N.a,null,s.a.createElement(Q.a,null)),"  Add"),",")))),s.a.createElement(g.a,{item:!0,xs:4},s.a.createElement("div",{style:{height:"400px",width:"100%"}},s.a.createElement("img",{src:G.a}))))))}}]),e}(s.a.Component),X=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,products:[],tx:null,productName:""},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"prepareResult",value:function(){for(var t=0;t<this.state.products.length;t++)if(this.state.tx.productID===this.state.products[t]._id){this.setState({productName:this.state.products[t].name});break}}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.setState({products:e.result}),B(t.state.userID,1,function(e){t.setState({tx:e[0]}),t.prepareResult()})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(U.a,{style:{margin:"20px auto"}},s.a.createElement("div",{style:{padding:"20px",textAlign:"left"}},s.a.createElement(O.a,null,"Amount earned today : "),s.a.createElement(O.a,null,s.a.createElement(z.a,null)," ",this.state.totalAmount," Rs"),s.a.createElement(L.a,null),s.a.createElement(O.a,null,"Recent Transaction Detail : "),null!==this.state.tx&&s.a.createElement("p",null,this.state.productName," , Quantity : ",this.state.tx.quantity,", Amount : ",this.state.tx.cost))))}}]),e}(s.a.Component),Z=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={totalQuantity:500,maxQuantity:{product:"Tomato",quantity:32,price:640}},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(U.a,{style:{margin:"20px auto"}},s.a.createElement("div",{style:{padding:"20px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h5"},"Export Data  : "),s.a.createElement(L.a,null),s.a.createElement("a",{target:"__blank",href:"http://localhost:5000/export/products.csv"},s.a.createElement(d.a,{variant:"contained",color:"primary"},"Download Products")),s.a.createElement("a",{target:"__blank",href:"http://localhost:5000/export/transactions.csv"},s.a.createElement(d.a,{variant:"contained",color:"primary"},"Download Transactions")))))}}]),e}(s.a.Component),$=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{style:{paddingLeft:"250px",width:"80%",paddingTop:"70px"}},s.a.createElement("div",{style:{marginLeft:""}},s.a.createElement(g.a,{container:!0,spacing:3},s.a.createElement(g.a,{item:!0,xs:7},s.a.createElement(K,{userData:this.props.userData})),s.a.createElement(g.a,{item:!0,xs:5},s.a.createElement(X,{userData:this.props.userData}),s.a.createElement(Z,{userData:this.props.userData})))))}}]),e}(s.a.Component),tt=a(189),et=a(190),at=a(192),nt=a(193),rt=a(194),lt=a(191),ct=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={product:a.props.row,cost:a.props.row.cost,quantity:a.props.row.quantity},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"deleteProductHandler",value:function(){var t,e,a=this;t=this.state.product.name,e=function(){a.props.deleteHandler()},console.log(t),new x("/product/delete",function(t){console.log(t),t.error||e()}).collect({objectID:t})}},{key:"updateCostHandler",value:function(){!function(t,e){var a=parseFloat(e);new x("/product/updatePrice",function(t){console.log(t),t.error||alert("Product updated ")}).collect({objectID:t,cost:a})}(this.state.product.name,this.state.cost)}},{key:"render",value:function(){var t=this;return s.a.createElement(tt.a,null,s.a.createElement(et.a,null,this.state.product.name),s.a.createElement(et.a,null,s.a.createElement(v.a,{value:this.state.quantity,onChange:function(e){t.setState({quantity:e.target.value})}})),s.a.createElement(et.a,null,s.a.createElement(v.a,{value:this.state.cost,onChange:function(e){t.setState({cost:e.target.value})}})),s.a.createElement(et.a,null,s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return t.deleteProductHandler()}},s.a.createElement(lt.a,null)," Delete")),s.a.createElement(et.a,null,s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return t.updateCostHandler()}},"Update")))}}]),e}(s.a.Component),it=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,name:"",quantity:0,cost:0},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{margin:"10px auto",padding:"10px"}},s.a.createElement(O.a,{variant:"h6"},"Add new product : "),s.a.createElement(L.a,null),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(v.a,{value:this.state.name,onChange:function(e){t.setState({name:e.target.value})},label:"Name"})),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(v.a,{value:this.state.cost,onChange:function(e){t.setState({cost:e.target.value})},label:"cost"})),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(v.a,{value:this.state.quantity,onChange:function(e){t.setState({quantity:e.target.value})},label:"quantity"})),s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){var e,a,n,r;e=t.state.userID,a=t.state.name,n=t.state.cost,r=t.state.quantity,new x("/product/create",function(t){t.error||alert("Product create")}).collect({userID:e,name:a,cost:parseFloat(n)+.001,quantity:parseFloat(r)+.001})}},s.a.createElement(Q.a,null)," Add")))}}]),e}(s.a.Component),ot=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={products:[]},a.handleDelete=a.handleDelete.bind(Object(w.a)(a)),a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this;V(this.props.userData._id,function(e){t.setState({products:e.result})})}},{key:"handleDelete",value:function(){this.componentDidMount()}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{paddingLeft:"250px",width:"80%",paddingTop:"70px"}},s.a.createElement(b.a,{style:{padding:"20px"}},s.a.createElement(O.a,{variant:"h3"},"Products"),s.a.createElement(O.a,null,"List of products in your inventory"),s.a.createElement(L.a,null),s.a.createElement(at.a,null,s.a.createElement(nt.a,null,s.a.createElement(et.a,null,"Product Name"),s.a.createElement(et.a,null,"Quantity"),s.a.createElement(et.a,null,"Cost"),s.a.createElement(et.a,null,"Delete"),s.a.createElement(et.a,null,"Update")),s.a.createElement(rt.a,null,this.state.products.map(function(e,a){return s.a.createElement(ct,{row:e,deleteHandler:t.handleDelete})}))),s.a.createElement(it,{userData:this.props.userData})))}}]),e}(s.a.Component),st=a(202),ut=a(195),mt=a(69),pt=a.n(mt);a(87),a(88);function dt(t,e,a,n,r){new x("/transaction/perMonth",function(t){t.error||r(t.result)}).collect({userID:t,productID:e,month:parseInt(a),year:n})}function ht(t,e,a,n,r){new x("/transaction/monthWise",function(t){t.error||r(t.result)}).collect({userID:t,month:a,year:n,productID:e})}var vt=a(39),ft=(a(124),["Jan","Feb","March","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),Et=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={month:1,year:2018,productID:"",userID:a.props.userData._id,products:[],data:null},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"computeDataPoints",value:function(t){t.sort(function(t,e){var a=t._id,n=e._id;return a<n?-1:a>n?1:0});for(var e={label:"Sales in "+ft[this.state.month-1],values:{}},a=0;a<t.length;a++){var n=t[a]._id;e.values[n]=t[a].count}this.setState({data:e})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.setState({products:e.result,productID:e.result[0]._id}),dt(t.state.userID,t.state.productID,t.state.month,t.state.year,function(e){t.computeDataPoints(e)})})}},{key:"updateList",value:function(){var t=this;dt(this.state.userID,this.state.productID,this.state.month,this.state.year,function(e){t.computeDataPoints(e)})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h4"},"Month-wise sales :"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{margin:"20px auto"}},s.a.createElement(H.a,{value:this.state.month,style:{marginLeft:"20px auto"},onChange:function(e){t.setState({month:parseInt(e.target.value)+1})}},ft.map(function(t,e){return s.a.createElement(R.a,{value:e},t)})),s.a.createElement(H.a,{value:this.state.productID,onChange:function(e){t.setState({productID:e.target.value})},style:{marginLeft:"40px"}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name)})),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){t.updateList()},style:{marginLeft:"40px"}},"Update")),s.a.createElement("div",null,null!==this.state.data&&s.a.createElement("div",null,s.a.createElement(vt.b,{xtitle:"days",ytitile:"profit",data:this.state.data.values,download:!0})))))}}]),e}(s.a.Component),yt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,year:2018,month:1,data:null,products:{}},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"prepareProductList",value:function(t){for(var e={},a=0;a<t.length;a++)e[t[a]._id]=t[a].name;this.setState({products:e})}},{key:"computeDataPoints",value:function(t,e){for(var a={label:"Distribution of sales in "+ft[this.state.month-1]+" in percentage",values:{}},n=0;n<t.length;n++){var r=this.state.products[t[n]._id];a.values[r]=t[n].profit/e}this.setState({data:a})}},{key:"updateProportions",value:function(){var t,e,a,n,r=this;t=this.state.userID,e=this.state.month,a=this.state.year,n=function(t){r.computeDataPoints(t.result,t.total)},new x("/transaction/proportionMonth",function(t){t.error||n(t.result)}).collect({userID:t,month:e,year:a})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.prepareProductList(e.result),t.updateProportions()})}},{key:"render",value:function(){var t=this;return s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h5"},"Contribution of each product to total profit"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{margin:"20px auto"}},s.a.createElement(H.a,{value:this.state.month,onChange:function(e){return t.setState({month:parseInt(e.target.value)})}},ft.map(function(t,e){return s.a.createElement(R.a,{value:e},t)})),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return t.updateProportions()},ostyle:{marginLeft:"30px"}},"Update")),s.a.createElement("div",null,null!==this.state.data&&s.a.createElement(vt.c,{download:!0,data:this.state.data.values})))}}]),e}(s.a.Component),bt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={productID1:"",productID2:"",month:1,year:2018,products:[],data1:{},data2:{},userID:a.props.userData._id,productList:{}},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"prepareProductList",value:function(t){for(var e={},a=0;a<t.length;a++)e[t[a]._id]=t[a].name;this.setState({productList:e})}},{key:"computeDataPoints",value:function(t,e){t.sort(function(t,e){var a=t._id,n=e._id;return a<n?-1:a>n?1:0});for(var a={label:"Sales in "+ft[this.state.month-1],values:{}},n=0;n<t.length;n++){var r=t[n]._id;a.values[r]=t[n].count}switch(e){case 0:this.setState({data1:a});break;case 1:this.setState({data2:a})}}},{key:"updateTransactions",value:function(){var t=this;dt(this.state.userID,this.state.productID1,this.state.month,this.state.year,function(e){dt(t.state.userID,t.state.productID2,t.state.month,t.state.year,function(a){t.computeDataPoints(e,0),t.computeDataPoints(a,1)})})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.prepareProductList(e.result),t.setState({products:e.result}),t.setState({productID1:e.result[0]._id,productID2:e.result[0]._id}),t.updateTransactions()})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h4"},"Month-wise sales comparision :"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{margin:"20px auto"}},s.a.createElement(H.a,{value:this.state.month,style:{marginLeft:"20px auto"},onChange:function(e){t.setState({month:parseInt(e.target.value)+1})}},ft.map(function(t,e){return s.a.createElement(R.a,{value:e},t)})),s.a.createElement(H.a,{value:this.state.productID1,onChange:function(e){t.setState({productID1:e.target.value})},style:{marginLeft:"40px"}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name)})),s.a.createElement(H.a,{value:this.state.productID2,onChange:function(e){t.setState({productID2:e.target.value})},style:{marginLeft:"40px"}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name)})),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){t.updateTransactions()},style:{marginLeft:"40px"}},"Update")),s.a.createElement("div",null,null!==this.state.data&&s.a.createElement("div",null,s.a.createElement(vt.b,{data:[{name:this.state.productList[this.state.productID1],data:this.state.data1.values},{name:this.state.productList[this.state.productID2],data:this.state.data2.values}],download:!0,ytitle:"Profit",xtitle:"days"})))))}}]),e}(s.a.Component),gt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a.layout=[{i:"a",x:0,y:0,w:6,h:11},{i:"b",x:6,y:0,w:5,h:11},{i:"c",x:0,y:11.2,w:11,h:9}],a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement(pt.a,{className:"layout",layout:this.layout,cols:12,rowHeight:30,width:1200},s.a.createElement("div",{key:"a"},s.a.createElement(Et,{userData:this.props.userData})),s.a.createElement("div",{key:"b"},s.a.createElement(yt,{userData:this.props.userData})),s.a.createElement("div",{key:"c"},s.a.createElement(bt,{userData:this.props.userData})))}}]),e}(s.a.Component),Dt=["Jan","Feb","March","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,productID:"",products:[],txSummary:[],year:2018},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"updateTable",value:function(){var t,e,a,n,r=this;t=this.state.userID,e=this.state.productID,a=this.state.year,n=function(t){r.setState({txSummary:t})},new x("/transaction/perProductSummary",function(t){t.error||n(t.result)}).collect({userID:t,productID:e,year:a})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.setState({products:e.result,productID:e.result[0]._id}),t.updateTable()})}},{key:"render",value:function(){var t=this;return s.a.createElement(U.a,{style:{margin:"20px auto",padding:"20px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h4"},"Product Summary"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(H.a,{style:{marginRight:"30px"},value:this.state.productID,onChange:function(e){return t.setState({productID:e.target.value})}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name)})),s.a.createElement(d.a,{variant:"contained",onClick:function(){return t.updateTable()},color:"primary"},"Display")),s.a.createElement("p",null,"The table below shows the summary of all the transactions per month, you can also view the transactions per day by clicking on the table entry"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},s.a.createElement(at.a,null,s.a.createElement(nt.a,null,s.a.createElement(et.a,null,"Month"),s.a.createElement(et.a,null,"Profit"),s.a.createElement(et.a,null,"Quantities sold"),s.a.createElement(et.a,null,"Total Transactions"),s.a.createElement(et.a,null,"Average Transactions")),s.a.createElement(rt.a,null,this.state.txSummary.map(function(t,e){return s.a.createElement(tt.a,null,s.a.createElement(et.a,null,Dt[parseInt(t._id)-1]),s.a.createElement(et.a,null,t.profit),s.a.createElement(et.a,null,t.quantity),s.a.createElement(et.a,null,t.transactions),s.a.createElement(et.a,null,(t.transactions/31).toFixed(0)))})))))}}]),e}(s.a.Component),Ot=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(jt,{userData:this.props.userData}))}}]),e}(s.a.Component),kt=a(93),xt=["Jan","Feb","March","April","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],It=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={month:1,year:2018,productID:"",userID:a.props.userData._id,products:[],data:null},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"computeDataPoints",value:function(t){t.sort(function(t,e){var a=t._id,n=e._id;return a<n?-1:a>n?1:0});for(var e={label:"Transactions in "+xt[this.state.month-1],values:{}},a=0;a<t.length;a++){var n=t[a]._id;e.values[n]=t[a].count}this.setState({data:e})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.setState({products:e.result,productID:e.result[0]._id}),ht(t.state.userID,t.state.productID,t.state.month,t.state.year,function(e){t.computeDataPoints(e)})})}},{key:"updateList",value:function(){var t=this;ht(this.state.userID,this.state.productID,this.state.month,this.state.year,function(e){t.computeDataPoints(e)})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h4"},"Month-wise transactions per product :"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{margin:"20px auto"}},s.a.createElement(H.a,{value:this.state.month,style:{marginLeft:"20px auto"},onChange:function(e){t.setState({month:parseInt(e.target.value)+1})}},xt.map(function(t,e){return s.a.createElement(R.a,{value:e},t)})),s.a.createElement(H.a,{value:this.state.productID,onChange:function(e){t.setState({productID:e.target.value})},style:{marginLeft:"40px"}},this.state.products.map(function(t,e){return s.a.createElement(R.a,{value:t._id},t.name)})),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){t.updateList()},style:{marginLeft:"40px"}},"Update")),s.a.createElement("div",null,null!==this.state.data&&s.a.createElement("div",null,s.a.createElement(vt.b,Object(kt.a)({download:!0,xtitle:"days",ytitle:"Transactions",data:this.state.data.values},"download",!0))))))}}]),e}(s.a.Component),wt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,year:2018,month:1,data:null,products:{}},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"prepareProductList",value:function(t){for(var e={},a=0;a<t.length;a++)e[t[a]._id]=t[a].name;this.setState({products:e})}},{key:"computeDataPoints",value:function(t){for(var e={label:"Distribution of transactions in "+xt[this.state.month-1]+" in percentage",values:{}},a=0;a<t.length;a++){var n=this.state.products[t[a]._id];e.values[n]=t[a].counts}this.setState({data:e})}},{key:"updateProportions",value:function(){var t,e,a,n,r=this;t=this.state.userID,e=this.state.month,a=this.state.year,n=function(t){r.computeDataPoints(t),console.log(t.result)},new x("/transaction/productProportion",function(t){t.error||n(t.result)}).collect({userID:t,month:e,year:a})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.prepareProductList(e.result),t.updateProportions()})}},{key:"render",value:function(){var t=this;return s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px",textAlign:"left"}},s.a.createElement(O.a,{variant:"h5"},"Contribution of each product to Transactions"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{margin:"20px auto"}},s.a.createElement(H.a,{value:this.state.month,onChange:function(e){return t.setState({month:parseInt(e.target.value)})}},xt.map(function(t,e){return s.a.createElement(R.a,{value:e},t)})),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return t.updateProportions()},ostyle:{marginLeft:"30px"}},"Update")),s.a.createElement("div",null,null!==this.state.data&&s.a.createElement(vt.c,{download:!0,data:this.state.data.values})))}}]),e}(s.a.Component),Ct=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,year:2018,data:[]},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"computeDataPoints",value:function(t){for(var e=[],a=0;a<t.length;a++){var n=xt[parseInt(t[a]._id)-1];e.push([n,t[a].transactions])}this.setState({data:e})}},{key:"componentWillMount",value:function(){var t,e,a,n=this;t=this.state.userID,e=this.state.year,a=function(t){console.log(t),n.computeDataPoints(t)},new x("/transaction/yearWise",function(t){t.error||a(t.result)}).collect({userID:t,year:e})}},{key:"render",value:function(){return s.a.createElement(U.a,{style:{width:"100%",height:"100%",padding:"10px"}},s.a.createElement(O.a,{variant:"h5"},"Yearwise transactions :"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(vt.a,{download:!0,data:this.state.data,xticks:"Months",yticks:"Transaction"})))}}]),e}(s.a.Component),St=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a.layout=[{i:"a",x:0,y:0,w:6,h:11},{i:"b",x:6,y:0,w:5,h:11},{i:"c",x:0,y:11.2,w:11,h:9}],a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement(pt.a,{className:"layout",layout:this.layout,cols:12,rowHeight:30,width:1200},s.a.createElement("div",{key:"a"},s.a.createElement(Ct,{userData:this.props.userData})),s.a.createElement("div",{key:"b"},s.a.createElement(wt,{userData:this.props.userData})),s.a.createElement("div",{key:"c"},s.a.createElement(It,{userData:this.props.userData})))}}]),e}(s.a.Component),Pt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={tabClicked:0},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{paddingLeft:"250px",paddingTop:"50px",width:"80%",textAlign:"center"}},s.a.createElement(st.a,{indicatorColor:"primary",style:{width:"700px"},textColor:"primary",value:this.state.tabClicked,onChange:function(e,a){return t.setState({tabClicked:a})}},s.a.createElement(ut.a,{label:"Price"}),s.a.createElement(ut.a,{label:"Summary"}),s.a.createElement(ut.a,{label:"Transactions"})),0===this.state.tabClicked&&s.a.createElement("div",null,s.a.createElement(gt,{userData:this.props.userData})),1===this.state.tabClicked&&s.a.createElement("div",null,s.a.createElement(Ot,{userData:this.props.userData})),2===this.state.tabClicked&&s.a.createElement("div",null,s.a.createElement(St,{userData:this.props.userData})))}}]),e}(s.a.Component),Tt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={userID:a.props.userData._id,N:20,productList:{},data:[]},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"prepareProductList",value:function(t){for(var e={},a=0;a<t.length;a++)e[t[a]._id]=t[a].name;this.setState({productList:e})}},{key:"getNTransactions",value:function(){var t=this;B(this.state.userID,this.state.N,function(e){t.setState({data:e})})}},{key:"componentWillMount",value:function(){var t=this;V(this.state.userID,function(e){t.prepareProductList(e.result),t.getNTransactions()})}},{key:"render",value:function(){var t=this;return s.a.createElement(U.a,{style:{margin:"20px",padding:"30px"}},s.a.createElement(O.a,{variant:"h5"},"Transaction List"),s.a.createElement(L.a,null),s.a.createElement("p",null,"Select the number of transactions you want to display, last 20 transactions are displayed by default."),s.a.createElement(v.a,{id:"outlined-name",label:"Number of transactions:",value:this.state.N,onChange:function(e){t.setState({N:e.target.value})},margin:"normal",variant:"outlined"}),s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){t.getNTransactions()}},"Update"),s.a.createElement(L.a,null),s.a.createElement("div",{style:{marginTop:"20px"}},s.a.createElement(at.a,null,s.a.createElement(nt.a,null,s.a.createElement(et.a,null,"Product Name "),s.a.createElement(et.a,null,"Total Price "),s.a.createElement(et.a,null,"Quantity Purchased "),s.a.createElement(et.a,null,"Date "),s.a.createElement(et.a,null,"Total Revenue till now ")),s.a.createElement(rt.a,null,this.state.data.map(function(e,a){return s.a.createElement(tt.a,null,s.a.createElement(et.a,null,t.state.productList[e.productID]),s.a.createElement(et.a,null,e.cost),s.a.createElement(et.a,null,e.quantity),s.a.createElement(et.a,null,e.date+"/"+e.month+"/"+e.year),s.a.createElement(et.a,null,e.totalCost))})))))}}]),e}(s.a.Component),_t=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{style:{paddingLeft:"250px",paddingTop:"50px",width:"80%"}},s.a.createElement(Tt,{userData:this.props.userData}))}}]),e}(s.a.Component),Lt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement("div",null,s.a.createElement(this.props.component,{userData:this.props.userData})))}}]),e}(s.a.Component),Nt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={component:$},a.handler=a.handler.bind(Object(w.a)(a)),a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"handler",value:function(t){switch(t){case 0:this.setState({component:$});break;case 2:this.setState({component:Pt});break;case 3:this.setState({component:ot});break;case 4:this.setState({component:_t})}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(W,{userData:this.props.userData}),s.a.createElement("div",null,s.a.createElement(J,{handler:this.handler}),s.a.createElement(Lt,{component:this.state.component,userData:this.props.userData})))}}]),e}(s.a.Component),At={root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{},form:{width:"100%"},submit:{}},Mt=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).call(this))).state={email:"",password:"",message:""},t}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=At;return s.a.createElement(g.a,{container:!0,component:"main",className:e.root},s.a.createElement(h.a,null),s.a.createElement(g.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),s.a.createElement(g.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},s.a.createElement("div",{className:e.paper},s.a.createElement(p.a,{className:e.avatar},s.a.createElement(j.a,null)),s.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("div",{className:e.form,noValidate:!0},s.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:this.state.email,onChange:function(e){t.setState({email:e.target.value})},id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),s.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:this.state.password,onChange:function(e){t.setState({password:e.target.value})},autoComplete:"current-password"}),s.a.createElement(f.a,{control:s.a.createElement(E.a,{value:"remember",color:"primary"}),label:"Remember me"}),s.a.createElement(d.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){var e,a,n;e=t.state.email,a=t.state.password,n=function(e){null==e?t.setState({message:"Login failed, incorrect email or password"}):m.a.render(s.a.createElement(Nt,{userData:e}),document.getElementById("root"))},new x("/user/auth",function(t){if(console.log(t),t.error||0===t.result.length)n(null);else{var e=JSON.stringify(t.result[0]);console.log(e),(new I).add("login",e),n(t.result[0])}}).collect({email:e,password:a})}},"Sign In"),s.a.createElement(g.a,{container:!0},s.a.createElement(g.a,{item:!0,xs:!0},s.a.createElement(y.a,{href:"#",variant:"body2"},"Forgot password?")),s.a.createElement(g.a,{item:!0},s.a.createElement(y.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))),s.a.createElement("p",null,this.state.message)))))}}]),e}(s.a.Component),qt=function(t){function e(){return Object(n.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=function(){var t=new I;return console.log(t.check("login")),t.check("login")?JSON.parse(localStorage.getItem("login")):null}();return null===t?s.a.createElement(Mt,null):s.a.createElement(Nt,{userData:t})}}]),e}(s.a.Component);m.a.render(s.a.createElement(qt,null),document.getElementById("root"))},90:function(t){t.exports={host:""}},92:function(t,e,a){t.exports=a.p+"static/media/basket.f0c09e4d.jpg"}},[[100,1,2]]]);
//# sourceMappingURL=main.9b3337bb.chunk.js.map